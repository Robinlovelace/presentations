---
title: "Mapping open land-use data with open source software"
author: "Robin Lovelace"
date: 'FarmHack, `r Sys.Date()`<br>code: [github.com/Robinlovelace/uklandusedata](https://github.com/Robinlovelace/uklandusedata)'
output:
  xaringan::moon_reader:
    # css: ["default", "its.css"]
    # chakra: libs/remark-latest.min.js
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
bibliography: uklanduse.bib
---

background-image: url(https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1557130767l/43080056._SY475_.jpg)
background-position: 50% 50%
class: center, bottom, inverse

```{r setup, include=FALSE}
# system("wget https://github.com/ITSLeeds/TDS/raw/master/courses/references.bib")
options(htmltools.dir.version = FALSE)
library(RefManageR)
library(dplyr)
BibOptions(check.entries = FALSE, 
           bib.style = "authoryear", 
           cite.style = 'alphabetic', 
           style = "markdown",
           first.inits = FALSE,
           hyperlink = FALSE, 
           dashed = FALSE)
my_bib = ReadBib("uklanduse.bib", check = FALSE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
```

---

# Context

- Knowledge is power and knowledge can derived from data

- Historically land use data has been hard to get hold of in the UK

- But the Land Use Registry and other government services have begun to open-up data `r Citep(my_bib, "shrubsole_who_2019", .opts = list(cite.style = "authoryear"))`  

- There is a huge amount of data that is available, that could support community-led agriculture and farmworkers, e.g.

--

  - to identify potential new farms to rent/buy/occupy

--

  - to find out who owns particular pieces of land
  
--

  - to lobby for more equal distribution of land and land subsidies

--

  - to estimate environmental conditions, e.g. flood susceptibility, biodiversity, land use (requires large satallite datasets, e.g. from open datasets via Google Earth Engine)
  
---

## How to get and use land use data? 

<iframe width="560" height="315" src="https://www.youtube.com/embed/xfjg_jpgiTE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

With QGIS! `r Citep(my_bib, "qgisdevelopmentteam_qgis_2019", .opts = list(cite.style = "authoryear"))`  
  

You can do LOTS with QGIS and it's getting more powerful every month

---

## Gettting data in OSM

![](https://user-images.githubusercontent.com/1825120/75730875-06878680-5ce6-11ea-8744-65c4c3915888.gif)

---

## Advantages of QGIS

--

Interactive

--

Popular

--

Intuitive

--

Shallow learning curve

--

Works well with visual learning style

--

### What you need 

- A working version of QGIS

  - On your laptop (recommended if you have a decent laptop)
  - Or on the where you work 
  
- Always...

--

  - Save your work

---

# Getting data from OSM

--

![](https://user-images.githubusercontent.com/1825120/75754674-06f34200-5d25-11ea-84a0-283409b54fc3.gif)

Get the data!

---

# Next step: give it a try!

... Live demo with QGIS


---

background-image: url()
background-size: cover
class: center, middle

# Part II: technology

---

# First up: what are GUIs and CLIs?


.pull-left[

Gooeys:

```{r, out.width="100%", echo=FALSE}
knitr::include_graphics("https://du7ybees82p4m.cloudfront.net/57c6a159cf4a79.53834822.jpg?width=1820&height=1023")

```

Informally: pointy-clicky-programs

Formally: a form of user interface that allows users to interact with electronic devices through graphical icons 

]

--

.pull-right[

```{r guigif, echo=FALSE}
knitr::include_graphics("https://user-images.githubusercontent.com/1825120/44630441-adeb6680-a955-11e8-978a-62ddf94eb5c7.gif")
```

]

---

## A comparison of CLIs vs GUIs

```{r clitable, echo=FALSE, out.width="100%"}
knitr::include_graphics("https://cdn-images-1.medium.com/max/1600/1*oLc-KPfL-OUHqKiQsn7q4g.png")
```

---

## In the context of geographic data

```{r, message=FALSE}
u = "https://github.com/Robinlovelace/geocompr/raw/master/extdata/gis-vs-gds-table.csv"
d = readr::read_csv(u)
knitr::kable(x = d, format = "html")
```

Source: Geocomputation with R `r Citep(my_bib, "lovelace_geocomputation_2019", .opts = list(cite.style = "authoryear"))`

---

## Why is reproducibility important?

--

- Because it's more likely to get you published in scientific journals
- Because reproducible research is more likely to be built-on and referenced

--

- A more in-depth reason:

> A process in which the same results can be generated by others using publicly accessible code.

> This may sound simple and easy to achieve (which it is if you carefully maintain your R code in script files), but has profound implications for teaching and the scientific process
`r Citep(my_bib, "pebesma_r_2012", .opts = list(cite.style = "authoryear"))`

---

## Scriptable vs methodological reproducibility

.pull-left[

Full reproducibility means providing a formal recipe, in the form a 'script' containing computer code.

For many transport planners this is not feasible.

But that does not mean you cannot make your work reproducible.

Think of a cooking recipe

]

--

.pull-right[

![](https://imgs.xkcd.com/comics/learning_to_cook.png)

]


---

## CLI vs GUI vs NUI

- There are other ways of interactive with computers!

```{r nuis, echo=FALSE, out.width="100%"}
knitr::include_graphics("https://www.researchgate.net/profile/Martin_Molina4/publication/304816895/figure/fig5/AS:667910355816460@1536253646575/The-User-Interface-evolution-Command-line-interfaces-began-the-UI-revolution-followed-by.jpg")
```

Source: `r Citep(my_bib, "fernandez_natural_2016", .opts = list(cite.style = "authoryear"))` 

---

## CLIs can be confusing

For example: 

> The general syntax of a GRASS
command which is called to run a module is similar to UNIX commands:

```
module [-flag1[flag2...]] parameter1=map1[,map2,...]\
[parameter2=number...] [--o] [--q] [--v]
```
`r Citep(my_bib, "neteler_open_2008", .opts = list(cite.style = "authoryear"))` 

---

## Learning to use a CLI

- Takes time and practice

- Benefits massively from touch typing 

- See Efficient R Programming, Section [1.5](https://csgillespie.github.io/efficientR/introduction.html#cross-transferable-skills-for-efficiency) `r Citep(my_bib, "gillespie_efficient_2016", .opts = list(cite.style = "authoryear"))` 

![](https://csgillespie.github.io/efficientR/figures/f1_1_800px-QWERTY-home-keys-position.png)

---

# Online communities

- [gis.stackexchange.com](https://gis.stackexchange.com/questions) has 21,314 questions 

- [r-sig-geo](http://r-sig-geo.2731867.n2.nabble.com/) has 1000s of posts

- RStudio's Discourse community has 65,000+ posts already!

---

# References

```{r, 'refs', results="asis", echo=FALSE}
PrintBibliography(my_bib)
# RefManageR::WriteBib(my_bib, "refs-geostat.bib")
```
